<div class="table-responsive">
    <table class="table table-bordered">
        <tr>
            <th>Tipo</th>
            <th>Fecha</th>
            <th>Texto</th>
            <th>Acciones</th> 
        </tr>
        <% misAvisos.forEach(function (aviso) { %>
            <tbody>
                <tr>
                    <td>
                        <% if (aviso.tipo === 0) { %>
                        <img src="/img/sugerencia.png" alt="imagen sugerencia" width="50px" height="50px">
                        <% } else if (aviso.tipo === 1) { %>
                        <img src="/img/incidencia.png" alt="imagen sugerencia" width="50px" height="50px">
                        <% } else { %>
                        <img src="/img/felicitacion.jpg" alt="imagen sugerencia" width="50px" height="50px">
                        <% }%>
                    </td>
                    <td> <%= aviso.fecha %> </td>
                    <td id="obvservacionesAvEnt"> <%= aviso.texto %> </td>
                    <td>
                        <button type="button" data-bs-toggle ="modal" data-bs-target = "#modalAsignarTecnico<%=aviso.idAviso%>">
                            <% if (aviso.idTecnicoAsignado === null) { %>
                            <img src="/img/sinTecnicoAsignado.png" alt="imagen tecnico no asignado" height="30px" width="30px">
                            <% } else { %>
                            <img src="/img/conTecnicoAsignado.png" alt="imagen tecnico asignado" height="30px" width="30px">
                            <% } %>
                        </button>
                        <button type="button" data-bs-toggle ="modal" data-bs-target = "#modalAnularAviso<%=aviso.idAviso%>">
                             <img src="/img/borrar.jpg"height="30px" width="30px">
                        </button>
                    </td>
                    <%- include("modalAnularAviso",{aviso}) %>
                    <%- include("modalAsignarTecnico",{aviso}) %> 
                     
                </tr>
            </tbody>
        <% }); %>
    </table>
</div>

<!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>


<script>
    // Obtener la referencia a la celda de la tabla
    var observaciones = document.getElementById("obvservacionesAvEnt");
  
    // Mostrar solo los primeros 200 caracteres y puntos suspensivos al final en caso de superarlos
    observaciones.innerText = observaciones.innerText.substring(0, 200) + "...";
  </script>
