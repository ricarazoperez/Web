<!-- misAvisos -->
<div class="table-responsive">
    <table class="table table-bordered">
        <tr>
            <thead>
                <th>Fecha</th>
                <th>Texto</th>
                <th>Tipo</th>
                <th>TÃ©cnico</th>
            </thead>
        </tr>
    
        <% misAvisos.forEach(function (aviso) { %>
            <tbody>
                <tr class='clickable-row' data-bs-toggle="modal" data-bs-target="#modalMostrarAviso<%=aviso.idAviso%>" style="cursor:pointer">
                    <td> <%= aviso.fecha %> </td>
                    <td id="obvservacionesMisAvNormal"> <%= aviso.texto %> </td>
                    <td>
                        <% if (aviso.tipo === 0) { %>
                            <img src="/img/sugerencia.png" alt="imagen sugerencia" width="50px" height="50px">
                            <% } else if (aviso.tipo === 1) { %>
                            <img src="/img/incidencia.png" alt="imagen sugerencia" width="50px" height="50px">
                            <% } else { %>
                            <img src="/img/felicitacion.jpg" alt="imagen sugerencia" width="50px" height="50px">
                            <% }%>
                    </td>
                    <td> <%= aviso.nombreTecnico %> </td>
                    <%- include("modalMostrarAviso", {aviso}) %>
                </tr>
            </tbody>
        <% }); %>
    </table>
</div>




<!-- BOTON CON MODAL ESCOGER TIPO AVISO -->
<%- include("modalTipoNuevoAviso") %>

<!-- MODALES PARA LOS TRES AVISOS -->
<%- include("modalSugerencia") %>
<%- include("modalIncidencia") %> 
<%- include("modalFelicitacion") %>  

<!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>

<script>
    // Obtener la referencia a la celda de la tabla
    var observaciones = document.getElementById("obvservacionesMisAvNormal");
  
    // Mostrar solo los primeros 200 caracteres y puntos suspensivos al final en caso de superarlos
    observaciones.innerText = observaciones.innerText.substring(0, 200) + "...";
  </script>
